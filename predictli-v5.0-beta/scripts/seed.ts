import 'dotenv/config'; import { db } from '../src/db/index.js'; import { per_person, per_candidate, per_profile, org_company, org_job, match_candidate_job } from '../src/db/schema.js'; async function main(){ const [p]=await db.insert(per_person).values({ first_name:'Ava', last_name:'Ng', email:'ava@example.com' }).returning(); const [c]=await db.insert(per_candidate).values({ person_id:p.id, status:'new', location:'Melbourne', availability:'available_now' }).returning(); await db.insert(per_profile).values({ candidate_id:c.id, skills:JSON.stringify(['React','Node','TypeScript']), experience_years:3 }); const [co]=await db.insert(org_company).values({ name:'SafeWorks Pty Ltd' }).returning(); const [j]=await db.insert(org_job).values({ company_id:co.id, title:'React Developer', description:'React, TypeScript', location:'Sydney' }).returning(); await db.insert(match_candidate_job).values({ candidate_id:c.id, job_id:j.id, score:72, outcome:'pending' }); console.log('Seed complete'); process.exit(0);} main().catch(e=>{console.error(e);process.exit(1)});
